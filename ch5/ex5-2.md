```
(controller
    (assign product (const 1))
    (assign counter (const 1))
    (assign n (const n))
    test-counter
        (test (op >) (reg counter) (reg n))
        (branch (label factorial-done))
        (assign product (op mul) (reg product) (reg counter))
        (assign counter (op add) (reg counter) (const 1))
        (goto (label test-counter))
    factorial-done)
```
